<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edit <%= inv ? inv.inv_make + ' ' + inv.inv_model : 'Inventory' %></title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  <main class="edit-inventory-container">
    <!-- Dynamic Heading -->
    <h1>Edit <%= inv.inv_make %> <%= inv.inv_model %></h1>

    <!-- Flash Messages -->
    <% if (messages.notice && messages.notice.length > 0) { %>
      <div class="flash-message notice">
        <ul>
          <% messages.notice.forEach(message => { %>
            <li><%= message %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <% if (messages.info && messages.info.length > 0) { %>
      <div class="flash-message info">
        <ul>
          <% messages.info.forEach(message => { %>
            <li><%= message %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <% if (messages.error && messages.error.length > 0) { %>
      <div class="flash-message error">
        <ul>
          <% messages.error.forEach(message => { %>
            <li><%= message %></li>
          <% }) %>
        </ul>
      </div>
    <% } %>

    <!-- Update Inventory Form -->
    <form action="/inv/update" method="post">
      <label for="classification_id">Classification</label>
      <select id="classification_id" name="classification_id" required>
        <option value="">Select a classification</option>
        <%- classificationSelect %>
      </select>

      <label for="inv_make">Make</label>
      <input type="text" id="inv_make" name="inv_make" value="<%= inv.inv_make %>" required />

      <label for="inv_model">Model</label>
      <input type="text" id="inv_model" name="inv_model" value="<%= inv.inv_model %>" required />

      <label for="inv_year">Year</label>
      <input type="number" id="inv_year" name="inv_year" value="<%= inv.inv_year %>" required />

      <label for="inv_description">Description</label>
      <textarea id="inv_description" name="inv_description" required><%= inv.inv_description %></textarea>

      <label for="inv_image">Image Path</label>
      <input type="text" id="inv_image" name="inv_image" value="<%= inv.inv_image %>"  />

      <label for="inv_thumbnail">Thumbnail Path</label>
      <input type="text" id="inv_thumbnail" name="inv_thumbnail" value="<%= inv.inv_thumbnail %>"  />

      <label for="inv_price">Price</label>
      <input type="number" id="inv_price" name="inv_price" value="<%= inv.inv_price %>" required />

      <label for="inv_miles">Miles</label>
      <input type="number" id="inv_miles" name="inv_miles" value="<%= inv.inv_miles %>" required />

      <label for="inv_color">Color</label>
      <input type="text" id="inv_color" name="inv_color" value="<%= inv.inv_color %>" required />

      <!-- Hidden Inventory ID -->
      <input type="hidden" name="inv_id" value="<%= inv.inv_id %>" />

      <button type="submit">Update Vehicle</button>
    </form>

    <hr />

    <!-- Delete Inventory Form -->
    <form action="/inv/delete" method="post">
      <input type="hidden" name="inv_id" value="<%= inv.inv_id %>" />
      <button type="submit" class="delete-button">Delete Vehicle</button>
    </form>
  </main>
</body>
</html>
